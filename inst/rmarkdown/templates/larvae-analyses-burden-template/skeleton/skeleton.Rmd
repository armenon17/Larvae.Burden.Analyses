---
title: "Larvae Burden Analyses Template"
author: "Your Name"
date: "The Date"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Adding an RMarkdown Template

This file is what a user will see when they select your template. Make sure that you update the fields in the yaml header. In particular you will want to update the `output` field to whatever format your template requires.

This is a good place to demonstrate special features that your template provides. Ideally it should knit out-of-the-box, or at least contain clear instructions as to what needs changing.

Finally, be sure to remove this message!


## Why does this template exist 
This template is for cleaning up and graphing data generated from zebrafish larvae infections with M. marinum. Bacterial burden is quantified in zebrafish larvae at 1 and 5 days post infection (1 and 5 dpi) automatically using analysis pipline created by Jared Brewer(burden/burdenMeasurer.py) This will generate typically 2 .csv files (for 1 dpi and for 5 dpi). The csv files are a bit messy so this will clean them up and graph it.
##

```{r load packages and data}

library(readr)#readr allows you to import csv and excel files
burden_data_1dpi <- read.csv("Your 1 dpi file here")
burden_data_5dpi <- read.csv ("Your 5 dpi file here")
```


```{r import packages and data }
burdenall <- rbind(burden_1dpi,burden_data_5dpi)
burdenall_clean <- na.omit(burdenall) #remove NA rows
names(burdenall_clean)[names(burdenall_clean) == 'X'] <- 'dpi'

#simplify days post infection column. Search for _dpi in the your sample label and transfer that number to your dpi column
for (i in 1:length(burdenall_clean$Label)) {
  if ((grepl("1dpi", burdenall_clean[i, "Label"]) == TRUE)) {
    burdenall_clean[i,"dpi"] <- 1
  } else if ((grepl("5dpi", burdenall_clean[i, "Label"]) == TRUE)){
    burdenall_clean[i,"dpi"] <- 5
  } else 
    print(FALSE)
}

#simplify Label column. When you label in the your sample label and transfer that number to your dpi column

for (i in 1:length(burdenall_clean$Label)) {
  if ((grepl("SigE-cer", burdenall_clean[i, "Label"]) == TRUE)) {
    burdenall_clean[i,"Label"] <- "SigE"
  } else if ((grepl("SigEcomp-cer", burdenall_clean[i, "Label"]) == TRUE)){
    burdenall_clean[i,"Label"] <- "SigEcomp"
  } else if ((grepl("WT-cer", burdenall_clean[i, "Label"]) == TRUE)){
    burdenall_clean[i,"Label"] <- "WT"
  } else 
    print(FALSE)
}
#remove unecessary columns
example_data <- burdenall_clean[, -1]
use_data(example_data, overwrite = TRUE)
